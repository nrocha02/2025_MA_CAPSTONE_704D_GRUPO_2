{% extends "ventas/ventas_base.html" %}
{% load static %}

{% block title %}Carrito de Compras - Cordillera Pets{% endblock %}

{% block extra_css %}
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f8f9fa;
      margin: 0;
      padding: 0;
    }

    /* Contenedor principal */
    .carrito-container {
      width: 60%;
      margin: 20px auto;
      background: #fff;
      border: 1px solid #ddd;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
    }

    /* Encabezado */
    .carrito-header {
      padding: 15px;
      font-size: 20px;
      font-weight: bold;
      border-bottom: 1px solid #ddd;
    }

    .volver {
      font-size: 14px;
      color: #666;
    }

    /* Producto */
    .producto {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 15px;
      border-bottom: 1px solid #ddd;
    }

    .producto-info {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .producto-info img {
      width: 80px;
      border-radius: 5px;
    }

    .producto-detalles {
      font-size: 14px;
    }

    .producto-detalles b {
      font-size: 16px;
    }

    /* Controles cantidad */
    .cantidad {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .cantidad button {
      padding: 5px 10px;
      border: 1px solid #ccc;
      background: #f1f1f1;
      cursor: pointer;
    }

    /* Totales */
    .totales {
      padding: 15px;
      text-align: right;
    }

    .totales div {
      margin-bottom: 8px;
      font-size: 15px;
    }

    .totales b {
      font-size: 16px;
    }

    /* Botón */
    .btn-pedido {
      display: block;
      width: 180px;
      margin-left: auto;
      margin-right: 15px;
      padding: 12px;
      background: #0d4686;
      color: #fff;
      border: none;
      border-radius: 4px;
      text-align: center;
      cursor: pointer;
      font-size: 16px;
    }

    /* Botón sigue compran*/
    .ventas {
      display: block;
      width: 180px;
      margin-left: auto;
      margin-right: 15px;
      padding: 12px;
      background: #0d4686;
      color: #fff;
      border: none;
      border-radius: 4px;
      text-align: center;
      cursor: pointer;
      font-size: 16px;
    }

    /* Footer */
    .footer {
      background: #b2e0f7;
      padding: 20px;
      text-align: center;
      font-size: 14px;
    }

    .footer img {
      width: 150px;
    }
  </style>
{% endblock %}

{% block content %}

  <div class="carrito-container">
    <div class="carrito-header">
      Mi Carrito <br>
    </div>

    <div class="producto">
      <div class="producto-info">
        <img src="https://cordillerapets.cl/wp-content/uploads/2023/10/arena-gato.jpg" alt="Arena Gato">
        <div class="producto-detalles">
          <b>Arena Gato New Planet 4 KG</b><br>
          <span>$<span class="precio">4000</span></span> <br>
          <small style="color:green;">En stock</small>
        </div>
      </div>

      <div class="cantidad">
        <button onclick="cambiarCantidad(-1)">-</button>
        <span id="cantidad">1</span>
        <button onclick="cambiarCantidad(1)">+</button>
      </div>

      <div class="total">
        <b>$<span id="total">4000</span></b>
      </div>
    </div>

    <div class="totales">
      <div>Subtotal: <b>$<span id="subtotal">4000</span></b></div>
      <div>Gastos de envío: <b>$<span id="envio">2990</span></b></div>
      <div><b>Total: $<span id="granTotal">6990</span></b></div>
    </div>

    <button class="btn-pedido">HACER PEDIDO</button>

  </div>
{% endblock %}

{% block extra_js %}
  <script>
    let cantidad = 1;
    const precio = 4000;
    const envio = 2990;

    function cambiarCantidad(num) {
      cantidad += num;
      if (cantidad < 1) cantidad = 1;
      document.getElementById("cantidad").textContent = cantidad;
      document.getElementById("total").textContent = precio * cantidad;
      document.getElementById("subtotal").textContent = precio * cantidad;
      document.getElementById("granTotal").textContent = (precio * cantidad) + envio;
    }
  </script>
{% endblock %}
